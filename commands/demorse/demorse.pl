#!/usr/bin/perl

# Author: Bas van Sisseren <bas@dnd.utwente.nl>

foreach $line (@ARGV) {
    $line =~ s/[^ \.\-]//g;
    $line =~ s/   */ \xfe /g;
    $line = " " . $line . " ";
    $line =~ s/ /  /g;

    $line =~ s/[^\.\-]\.\.\.\.\. / 5 /g;
    $line =~ s/[^\.\-]\.\.\.\.\- / 4 /g;
    $line =~ s/[^\.\-]\.\.\.\. / h /g;
    $line =~ s/[^\.\-]\.\.\.\-\- / 3 /g;
    $line =~ s/[^\.\-]\.\.\.\- / v /g;
    $line =~ s/[^\.\-]\.\.\. / s /g;
    $line =~ s/[^\.\-]\.\.\-\. / f /g;
    $line =~ s/[^\.\-]\.\.\-\-\.\. / \? /g;
    $line =~ s/[^\.\-]\.\.\-\-\- / 2 /g;
    $line =~ s/[^\.\-]\.\.\- / u /g;
    $line =~ s/[^\.\-]\.\. / i /g;
    $line =~ s/[^\.\-]\.\-\.\. / l /g;
    $line =~ s/[^\.\-]\.\-\.\-\.\- / \xff /g;
    $line =~ s/[^\.\-]\.\-\. / r /g;
    $line =~ s/[^\.\-]\.\-\-\. / p /g;
    $line =~ s/[^\.\-]\.\-\-\-\-\. / \! /g;
    $line =~ s/[^\.\-]\.\-\-\-\- / 1 /g;
    $line =~ s/[^\.\-]\.\-\-\- / j /g;
    $line =~ s/[^\.\-]\.\-\- / w /g;
    $line =~ s/[^\.\-]\.\- / a /g;
    $line =~ s/[^\.\-]\. / e /g;

    $line =~ s/[^\.\-]\-\.\.\.\. / 6 /g;
    $line =~ s/[^\.\-]\-\.\.\. / b /g;
    $line =~ s/[^\.\-]\-\.\.\- / x /g;
    $line =~ s/[^\.\-]\-\.\. / d /g;
    $line =~ s/[^\.\-]\-\.\-\. / c /g;
    $line =~ s/[^\.\-]\-\.\-\- / y /g;
    $line =~ s/[^\.\-]\-\.\- / k /g;
    $line =~ s/[^\.\-]\-\. / n /g;
    $line =~ s/[^\.\-]\-\-\.\.\. / 7 /g;
    $line =~ s/[^\.\-]\-\-\.\.\-\- / \, /g;
    $line =~ s/[^\.\-]\-\-\.\. / z /g;
    $line =~ s/[^\.\-]\-\-\.\- / q /g;
    $line =~ s/[^\.\-]\-\-\. / g /g;
    $line =~ s/[^\.\-]\-\-\-\.\. / 8 /g;
    $line =~ s/[^\.\-]\-\-\-\-\. / 9 /g;
    $line =~ s/[^\.\-]\-\-\-\-\- / 0 /g;
    $line =~ s/[^\.\-]\-\-\- / o /g;
    $line =~ s/[^\.\-]\-\- / m /g;
    $line =~ s/[^\.\-]\- / t /g;

    $line =~ s/[\.\-][\.\-]*/_/g;
    $line =~ s/ //g;
    $line =~ s/\xfe/ /g;
    $line =~ s/\xff/\./g;
    print "$line ";
}

print "\n";
